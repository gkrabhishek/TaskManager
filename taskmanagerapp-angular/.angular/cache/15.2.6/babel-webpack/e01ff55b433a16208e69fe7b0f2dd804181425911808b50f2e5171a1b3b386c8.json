{"ast":null,"code":"import jwtDecode from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nexport class AuthserviceService {\n  constructor() {\n    this.TOKEN_KEY = 'my_app_token';\n  }\n  setToken(token) {\n    localStorage.setItem(this.TOKEN_KEY, token);\n  }\n  getToken() {\n    return localStorage.getItem(this.TOKEN_KEY);\n  }\n  removeToken() {\n    localStorage.removeItem(this.TOKEN_KEY);\n  }\n  isLoggedIn() {\n    return this.getToken() !== null;\n  }\n  getEmployeeRole() {\n    const token = this.getToken();\n    const decodedToken = jwtDecode(token);\n    return decodedToken['role'];\n  }\n  extractPayloadFromToken(token) {\n    const decodedToken = jwtDecode(token);\n    console.log('decode token ', decodedToken);\n    console.log('decode token ', decodedToken['sub']);\n    return decodedToken['sub'];\n  }\n}\nAuthserviceService.ɵfac = function AuthserviceService_Factory(t) {\n  return new (t || AuthserviceService)();\n};\nAuthserviceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthserviceService,\n  factory: AuthserviceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,OAAOA,SAAS,MAAM,YAAY;;AAKlC,OAAM,MAAOC,kBAAkB;EAE7BC;IACQ,cAAS,GAAG,cAAc;EADlB;EAGhBC,QAAQ,CAACC,KAAU;IACjBC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,SAAS,EAAEH,KAAK,CAAC;EAC7C;EAEAI,QAAQ;IACN,OAAOH,YAAY,CAACI,OAAO,CAAC,IAAI,CAACF,SAAS,CAAC;EAC7C;EAEAG,WAAW;IACTL,YAAY,CAACM,UAAU,CAAC,IAAI,CAACJ,SAAS,CAAC;EACzC;EAEAK,UAAU;IACR,OAAO,IAAI,CAACJ,QAAQ,EAAE,KAAK,IAAI;EACjC;EACAK,eAAe;IACb,MAAMT,KAAK,GAAC,IAAI,CAACI,QAAQ,EAAE;IAC3B,MAAMM,YAAY,GAAKd,SAAS,CAACI,KAAK,CAAC;IACvC,OAAOU,YAAY,CAAC,MAAM,CAAC;EAC7B;EACAC,uBAAuB,CAACX,KAAa;IACnC,MAAMU,YAAY,GAAQd,SAAS,CAACI,KAAK,CAAC;IAC1CY,OAAO,CAACC,GAAG,CAAC,eAAe,EAACH,YAAY,CAAC;IACzCE,OAAO,CAACC,GAAG,CAAC,eAAe,EAACH,YAAY,CAAC,KAAK,CAAC,CAAC;IAChD,OAAOA,YAAY,CAAC,KAAK,CAAC;EAC5B;;AA9BWb,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;SAAlBA,kBAAkB;EAAAiB,SAAlBjB,kBAAkB;EAAAkB,YAFjB;AAAM","names":["jwtDecode","AuthserviceService","constructor","setToken","token","localStorage","setItem","TOKEN_KEY","getToken","getItem","removeToken","removeItem","isLoggedIn","getEmployeeRole","decodedToken","extractPayloadFromToken","console","log","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Gowlikar.Abhishek\\Documents\\Projects\\TaskManger\\taskmanagerapp-angular\\taskmanagerapp-angular\\src\\app\\authservice.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport jwtDecode from 'jwt-decode';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthserviceService {\n\n  constructor() { }\n  private TOKEN_KEY = 'my_app_token';\n\n  setToken(token: any) {\n    localStorage.setItem(this.TOKEN_KEY, token);\n  }\n\n  getToken(): string | null {\n    return localStorage.getItem(this.TOKEN_KEY);\n  }\n\n  removeToken() {\n    localStorage.removeItem(this.TOKEN_KEY);\n  }\n\n  isLoggedIn(): boolean {\n    return this.getToken() !== null;\n  }\n  getEmployeeRole(){\n    const token=this.getToken();\n    const decodedToken:any=jwtDecode(token);\n    return decodedToken['role'];\n  }\n  extractPayloadFromToken(token: string) {\n    const decodedToken:any =  jwtDecode(token);\n    console.log('decode token ',decodedToken);\n    console.log('decode token ',decodedToken['sub']);\n    return decodedToken['sub'];\n  }\n  \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}